---
// const time = "20s";
const mainPath = "/assets/fastFood";

const img = {
  hamburgesa: `${mainPath}/img/hamburguesa.jpg`,
  hamburgesaCPapas: `${mainPath}/img/hamburguesa-papas.jpg`,
  papas: `${mainPath}/img/papas.jpg`,
  soda: `${mainPath}/img/refresco.jpg`,
  aguacate: `${mainPath}/img/aguacate.jpg`,
};
---

<section id="promociones" class="section">
  <h2 class="section-title">Promociones del Mes</h2>
  <div class="carousel-container">
    <div class="carousel-track">
      <img src={img.hamburgesaCPapas} alt="Promoción 1" />
      <img src={img.hamburgesa} alt="Promoción 2" />
      <img src={img.papas} alt="Promoción 3" />
      <img src={img.aguacate} alt="Promoción 4" />

      <img
        src={img.papas}
        alt="Promoción 1 (duplicado)"
      />
      <img src={img.hamburgesa} alt="Promoción 2 (duplicado)" />
      <img src={img.papas} alt="Promoción 3 (duplicado)" />
      <img src={img.aguacate} alt="Promoción 4 (duplicado)" />
    </div>
  </div>
</section>

<style>
  /* --- 1. Variables Globales --- */
  :root {
    --image-width: 400px; /* Ancho de cada imagen en escritorio */
    --image-count: 4; /* Número de imágenes en el set original */
    --scroll-duration: 15s;
  }

  .carousel-container {
    width: 100%;
    overflow: hidden;
  }

  /* --- 2. Track y Animación --- */
  .carousel-track {
    display: flex;
    /* La animación DEBE apuntar al keyframe correcto */
    animation: scroll var(--scroll-duration) linear infinite;
    /* Ancho total: 2 sets * ancho_imagen */
    width: calc(var(--image-width) * var(--image-count) * 2);
  }

  .carousel-track img {
    height: 300px;
    width: var(--image-width);
    object-fit: cover;
    flex-shrink: 0;
    margin-right: 0;
  }

  /* --- 3. Keyframes (Nombre Corregido) --- */
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    /* El desplazamiento es el ancho exacto del set original (4 imágenes) */
    100% {
      transform: translateX(calc(var(--image-width) * var(--image-count) * -1));
    }
  }

  /* --- 4. Media Queries (Uso de Variables Consistentes) --- */
  @media (max-width: 768px) {
    /* Sobreescribe las variables CSS para el móvil */
    :root {
      --image-width: 300px; /* Nuevo ancho para móvil */
      --scroll-duration: 12s; /* Opcional: ajustar velocidad en móvil */
    }

    .section-title {
      font-size: 2em;
    }

    .carousel-track img {
      /* Ya no necesitas min-width si usas la variable width: var(--image-width); */
      width: var(--image-width);
      height: 200px;
    }
  }
</style>
