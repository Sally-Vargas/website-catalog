---
import { getCollection } from "./services/treatmentServices";
import { Image } from "astro:assets";

interface Props {
  lang: "es" | "en";
}
const { lang } = Astro.props;
const treatments = getCollection({ lang });

const content = {
  es: {
    title: "Nuestros Tratamientos",
    subtitle: "Procedimientos de vanguardia para resultados excepcionales.",
  },
  en: {
    title: "Our Treatments",
    subtitle: "State-of-the-art procedures for exceptional results.",
  },
};
const currentContent = content[lang];
const sectionId = lang === "es" ? "tratamientos" : "treatments";
---

<section id={sectionId} class="treatments-section">
  <div class="treatments-container">
    <div class="section-header">
      <h2 class="section-title">{currentContent.title}</h2>
      <p class="section-subtitle">{currentContent.subtitle}</p>
    </div>
    <div class="treatments-grid">
      {
        treatments.map((treatment, index) => (
          <div class="treatment-card">
            <Image
              src={treatment.image.src}
              alt={treatment.image.alt}
              class="treatment-image"
              widths={[300, 400]}
              sizes="(max-width: 768px) 300px, 400px"
              quality="mid"
              loading={index < 4 ? "eager" : "lazy"}
              decoding="async"
            />
            <div class="card-content">
              <h3 class="card-title">{treatment.title}</h3>
              <p class="card-description">{treatment.shortDescription}</p>
              <a href="#" class="card-link">
                {lang === "es" ? "Leer MÃ¡s" : "Read More"} &rarr;
              </a>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
<style>
  .treatments-section {
    padding-top: 5rem; /* py-20 */
    padding-bottom: 5rem; /* py-20 */
    background-color: #ffffff; /* bg-white */
  }

  .treatments-container {
    width: 100%;
    max-width: 1280px; /* container */
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  .section-header {
    text-align: center;
    margin-bottom: 3rem; /* mb-12 */
  }

  .section-title {
    font-size: 2.25rem; /* text-4xl */
    font-weight: 700; /* font-bold */
    color: #111827; /* text-gray-900 */
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; /* font-serif */
  }

  .section-subtitle {
    font-size: 1.125rem; /* text-lg */
    color: #4b5563; /* text-gray-600 */
    margin-top: 0.5rem; /* mt-2 */
  }

  .treatments-grid {
    display: grid;
    grid-template-columns: repeat(1, minmax(0, 1fr)); /* grid-cols-1 */
    gap: 2rem; /* gap-8 */
  }

  .treatment-card {
    background-color: #f9fafb; /* bg-gray-50 */
    border-radius: 0.5rem; /* rounded-lg */
    box-shadow:
      0 4px 6px -1px rgb(0 0 0 / 0.1),
      0 2px 4px -2px rgb(0 0 0 / 0.1); /* shadow-md */
    overflow: hidden;
    transition: transform 0.3s ease; /* transition-transform duration-300 */
  }

  .treatment-card:hover {
    transform: translateY(-0.5rem); /* hover:-translate-y-2 */
  }

  .treatment-image {
    width: 100%;
    height: 14rem; /* h-56 */
    object-fit: cover;
  }

  .card-content {
    padding: 1.5rem; /* p-6 */
  }

  .card-title {
    font-size: 1.5rem; /* text-2xl */
    font-weight: 700; /* font-bold */
    margin-bottom: 0.5rem; /* mb-2 */
    font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; /* font-serif */
  }

  .card-description {
    color: #374151; /* text-gray-700 */
    margin-bottom: 1rem; /* mb-4 */
  }

  .card-link {
    color: #2563eb; /* text-blue-600 */
    font-weight: 600; /* font-semibold */
    text-decoration: none;
  }

  .card-link:hover {
    text-decoration: underline; /* hover:underline */
  }

  /* Media Queries para el grid responsivo */
  @media (min-width: 768px) {
    /* md: */
    .treatments-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr)); /* md:grid-cols-2 */
    }
  }

  @media (min-width: 1024px) {
    /* lg: */
    .treatments-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr)); /* lg:grid-cols-3 */
    }
  }
</style>
